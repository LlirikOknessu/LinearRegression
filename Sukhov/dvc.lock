schema: '2.0'
stages:
  data_preparation:
    cmd: python data_preparation.py -id data/raw -od data/prepared
    deps:
    - path: data/raw
      md5: 88bb7fa92753dd7f80de4f4e6f999610.dir
      size: 1343045
      nfiles: 1
    - path: data_preparation.py
      md5: b9b618f485f1d5794d49677d94563be9
      size: 3226
    params:
      params.yaml:
        data_preparation:
          train_test_ratio: 0.8
          train_val_ratio: 0.875
          random_state: 42
    outs:
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
  linear_regression:
    cmd: python linear_regression.py -id data/prepared -od data/models -mn LinearRegression
    deps:
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: linear_regression.py
      md5: 6921f7455e9685075bbac253a9a93ef0
      size: 2544
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
    outs:
    - path: data/models/LinearRegression.csv
      md5: a6d5cc1332f39b7e30a3541cca5e11ae
      size: 198
    - path: data/models/LinearRegression.joblib
      md5: da35f4f02c717117f1ef4329a9427766
      size: 1151
  linear_regression_prod_version:
    cmd: python linear_regression_full.py -id data/prepared/ -od data/models/ -mn
      LinearRegression
    deps:
    - path: data/models/LinearRegression.joblib
      md5: da35f4f02c717117f1ef4329a9427766
      size: 1151
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: linear_regression_full.py
      md5: a43bc3289856bada9ab4a8289c1c7df7
      size: 2402
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
    outs:
    - path: data/models/LinearRegression_prod.csv
      md5: 5800c805a8cd2736dfb57a73fc5a632f
      size: 198
    - path: data/models/LinearRegression_prod.joblib
      md5: de9a352d8f30d7d4e190b28db86fe9bd
      size: 1151
  linear_regression_validation:
    cmd: python linear_regression_validation.py -id data/prepared/ -im data/models/LinearRegression.joblib
      -mn LinearRegression
    deps:
    - path: data/models/LinearRegression.joblib
      md5: da35f4f02c717117f1ef4329a9427766
      size: 1151
    - path: data/prepared/
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: linear_regression_validation.py
      md5: a279aa70ab558693fa0b373c36b378ce
      size: 1523
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
  decision_tree@DecisionTree:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn DecisionTree -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: de9a352d8f30d7d4e190b28db86fe9bd
      size: 1151
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree.py
      md5: ff8ae159bd1db68edd0801b33ba87824
      size: 3263
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
    outs:
    - path: data/models/DecisionTree.joblib
      md5: 1611467dbe1b6e6992963416482d9311
      size: 30319
  decision_tree_validation@DecisionTree:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/DecisionTree.joblib
      -bm data/models/LinearRegression_prod.joblib -mn DecisionTree
    deps:
    - path: data/models/DecisionTree.joblib
      md5: 1611467dbe1b6e6992963416482d9311
      size: 30319
    - path: data/models/LinearRegression_prod.joblib
      md5: de9a352d8f30d7d4e190b28db86fe9bd
      size: 1151
    - path: data/prepared/
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 38b607a8a20936374b7d8d0ef1e48de9
      size: 2009
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
  decision_tree@ExtraTree:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn ExtraTree -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: de9a352d8f30d7d4e190b28db86fe9bd
      size: 1151
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree.py
      md5: ff8ae159bd1db68edd0801b33ba87824
      size: 3263
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
    outs:
    - path: data/models/ExtraTree.joblib
      md5: 190fcc8a3b1ad252a127fd75d5c16a3e
      size: 204143
  decision_tree_validation@ExtraTree:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/ExtraTree.joblib
      -bm data/models/LinearRegression_prod.joblib -mn ExtraTree
    deps:
    - path: data/models/ExtraTree.joblib
      md5: 190fcc8a3b1ad252a127fd75d5c16a3e
      size: 204143
    - path: data/models/LinearRegression_prod.joblib
      md5: de9a352d8f30d7d4e190b28db86fe9bd
      size: 1151
    - path: data/prepared/
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 38b607a8a20936374b7d8d0ef1e48de9
      size: 2009
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
  decision_tree@RandomForest:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn RandomForest -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: de9a352d8f30d7d4e190b28db86fe9bd
      size: 1151
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree.py
      md5: ff8ae159bd1db68edd0801b33ba87824
      size: 3263
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
    outs:
    - path: data/models/RandomForest.joblib
      md5: f2d3d2046b76c289dd92c89f3c38eb31
      size: 268847
  decision_tree_prod_version@RandomForest:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn RandomForest
    deps:
    - path: data/models/RandomForest.joblib
      md5: f2d3d2046b76c289dd92c89f3c38eb31
      size: 268847
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree_full.py
      md5: 5c659ca79ec221b37456ff788b81b786
      size: 2756
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
    outs:
    - path: data/models/RandomForest_prod.joblib
      md5: c2ce3ce9f6882de3964c7ecd75a7cea9
      size: 155329
  decision_tree_prod_version@ExtraTree:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn ExtraTree
    deps:
    - path: data/models/ExtraTree.joblib
      md5: 190fcc8a3b1ad252a127fd75d5c16a3e
      size: 204143
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree_full.py
      md5: 5c659ca79ec221b37456ff788b81b786
      size: 2756
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
    outs:
    - path: data/models/ExtraTree_prod.joblib
      md5: 3f458ef1b4b8e9a4eca17eec3db89336
      size: 195057
  decision_tree_prod_version@DecisionTree:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn DecisionTree
    deps:
    - path: data/models/DecisionTree.joblib
      md5: 1611467dbe1b6e6992963416482d9311
      size: 30319
    - path: data/prepared
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree_full.py
      md5: 5c659ca79ec221b37456ff788b81b786
      size: 2756
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
    outs:
    - path: data/models/DecisionTree_prod.joblib
      md5: 7551ec2615f89650c599d3eda66dbac9
      size: 17185
  decision_tree_validation@RandomForest:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/RandomForest.joblib
      -bm data/models/LinearRegression_prod.joblib -mn RandomForest
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: de9a352d8f30d7d4e190b28db86fe9bd
      size: 1151
    - path: data/models/RandomForest.joblib
      md5: f2d3d2046b76c289dd92c89f3c38eb31
      size: 268847
    - path: data/prepared/
      md5: 8d110876314ff587d9644168564845e5.dir
      size: 2222742
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 38b607a8a20936374b7d8d0ef1e48de9
      size: 2009
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
            - 15
