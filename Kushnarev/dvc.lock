schema: '2.0'
stages:
  data_preparation:
    cmd: python data_preparation.py -id data/raw -od data/prepared -p params.yaml
    deps:
    - path: data/raw
      md5: 88bb7fa92753dd7f80de4f4e6f999610.dir
      size: 1323849
      nfiles: 1
    - path: data_preparation.py
      md5: d5ae82f66432ad1a77a104083cd44794
      size: 3494
    params:
      params.yaml:
        data_preparation:
          train_test_ratio: 0.7
          train_val_ratio: 0.9
          random_state: 42
    outs:
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
  linear_regression:
    cmd: python linear_regression.py -id data/prepared -od data/models -mn LinearRegression
    deps:
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: linear_regression.py
      md5: 52692dd680c7b85680db65341413d031
      size: 2566
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
    outs:
    - path: data/models/LinearRegression.csv
      md5: 0ccd4d121e2a361b445c1e79372a4376
      size: 201
    - path: data/models/LinearRegression.joblib
      md5: 77b39cfa7f3247e6d391c1f02484ead6
      size: 1151
  linear_regression_prod_version:
    cmd: python linear_regression_full.py -id data/prepared/ -od data/models/ -mn
      LinearRegression
    deps:
    - path: data/models/LinearRegression.joblib
      md5: 77b39cfa7f3247e6d391c1f02484ead6
      size: 1151
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: linear_regression_full.py
      md5: 93bd8cac8f1f2c2403336cfb70d0b0e7
      size: 2022
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
    outs:
    - path: data/models/LinearRegression_prod.csv
      md5: 6867b8dc7c2559ff9a2c13224b426ae5
      size: 199
    - path: data/models/LinearRegression_prod.joblib
      md5: acf695418cf0dfaa2e5c79adf081a691
      size: 1151
  linear_regression_validation:
    cmd: python linear_regression_validation.py -id data/prepared/ -im data/models/LinearRegression.joblib
      -mn LinearRegression
    deps:
    - path: data/models/LinearRegression.joblib
      md5: 77b39cfa7f3247e6d391c1f02484ead6
      size: 1151
    - path: data/prepared/
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: linear_regression_validation.py
      md5: 16eb9788a3ecc7426e042942a736d210
      size: 1648
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
  decision_tree@ExtraTree:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn ExtraTree -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: acf695418cf0dfaa2e5c79adf081a691
      size: 1151
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree.py
      md5: f10b4ff022a862e71e815012d4dc4c53
      size: 3183
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
    outs:
    - path: data/models/ExtraTree.joblib
      md5: 4bd84d5f75ed2913aad8f44d09d191f4
      size: 2190543
  decision_tree@DecisionTree:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn DecisionTree -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: acf695418cf0dfaa2e5c79adf081a691
      size: 1151
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree.py
      md5: f10b4ff022a862e71e815012d4dc4c53
      size: 3183
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
    outs:
    - path: data/models/DecisionTree.joblib
      md5: 22e331e113fcff5db762694be210393b
      size: 164383
  decision_tree@RandomForest:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn RandomForest -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: acf695418cf0dfaa2e5c79adf081a691
      size: 1151
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree.py
      md5: f10b4ff022a862e71e815012d4dc4c53
      size: 3183
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
    outs:
    - path: data/models/RandomForest.joblib
      md5: c6469fd61e081dc3dd49369cf8e26dc8
      size: 2165663
  decision_tree_validation@DecisionTree:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/DecisionTree.joblib
      -bm data/models/LinearRegression_prod.joblib -mn DecisionTree
    deps:
    - path: data/models/DecisionTree.joblib
      md5: 22e331e113fcff5db762694be210393b
      size: 164383
    - path: data/models/LinearRegression_prod.joblib
      md5: acf695418cf0dfaa2e5c79adf081a691
      size: 1151
    - path: data/prepared/
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 48383568cd807296171465825e4cc5e2
      size: 1763
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
  decision_tree_validation@RandomForest:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/RandomForest.joblib
      -bm data/models/LinearRegression_prod.joblib -mn RandomForest
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: acf695418cf0dfaa2e5c79adf081a691
      size: 1151
    - path: data/models/RandomForest.joblib
      md5: c6469fd61e081dc3dd49369cf8e26dc8
      size: 2165663
    - path: data/prepared/
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 48383568cd807296171465825e4cc5e2
      size: 1763
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
  decision_tree_validation@ExtraTree:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/ExtraTree.joblib
      -bm data/models/LinearRegression_prod.joblib -mn ExtraTree
    deps:
    - path: data/models/ExtraTree.joblib
      md5: 4bd84d5f75ed2913aad8f44d09d191f4
      size: 2190543
    - path: data/models/LinearRegression_prod.joblib
      md5: acf695418cf0dfaa2e5c79adf081a691
      size: 1151
    - path: data/prepared/
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 48383568cd807296171465825e4cc5e2
      size: 1763
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
  decision_tree_prod_version@DecisionTree:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn DecisionTree
    deps:
    - path: data/models/DecisionTree.joblib
      md5: 22e331e113fcff5db762694be210393b
      size: 164383
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree_full.py
      md5: d2289669324cab37f0aabbeb79ed49f7
      size: 2648
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
    outs:
    - path: data/models/DecisionTree_prod.joblib
      md5: 0e4dddfc8002d2944ec145ddd24913c7
      size: 164689
  decision_tree_prod_version@RandomForest:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn RandomForest
    deps:
    - path: data/models/RandomForest.joblib
      md5: c6469fd61e081dc3dd49369cf8e26dc8
      size: 2165663
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree_full.py
      md5: d2289669324cab37f0aabbeb79ed49f7
      size: 2648
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
    outs:
    - path: data/models/RandomForest_prod.joblib
      md5: 744837c8a8c7300de00c17e75315904c
      size: 2023329
  decision_tree_prod_version@ExtraTree:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn ExtraTree
    deps:
    - path: data/models/ExtraTree.joblib
      md5: 4bd84d5f75ed2913aad8f44d09d191f4
      size: 2190543
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: decision_tree_full.py
      md5: d2289669324cab37f0aabbeb79ed49f7
      size: 2648
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 7
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            n_jobs:
            - -1
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            - 15
            max_depth:
            - 2
            - 4
            - 6
            - 7
            - 8
            - 9
            - 10
            - 12
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            - 15
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 18
            - 48
            n_jobs:
            - -1
    outs:
    - path: data/models/ExtraTree_prod.joblib
      md5: da015221bca979235e77ea027f00c12f
      size: 2226721
  xg_boost:
    cmd: python xg_boost.py -id data/prepared/ -od data/models/ -bm data/models/DecisionTree_prod.joblib
      -p params.yaml
    deps:
    - path: data/models/DecisionTree_prod.joblib
      md5: 0e4dddfc8002d2944ec145ddd24913c7
      size: 164689
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: xg_boost.py
      md5: 29693610c6ddf0b10c2d1772b628a990
      size: 2430
    params:
      params.yaml:
        xg_boost:
          n_estimators:
          - 15
          - 50
          - 100
          max_depth:
          - 3
          - 4
          - 5
          - 9
          - 15
          - 18
          gamma:
          - 1
          - 3
          - 5
          - 7
          - 9
          min_child_weight:
          - 1
          - 3
          - 5
          - 7
          - 9
          verbosity:
          - 0
    outs:
    - path: data/models/XGBRegressor.joblib
      md5: d3e56d535aecec69e52d29e845b53b07
      size: 13891982
  xg_boost_validation:
    cmd: python xg_boost_validation.py -id data/prepared/ -im data/models/XGBRegressor.joblib
      -bm data/models/DecisionTree_prod.joblib
    deps:
    - path: data/models/DecisionTree_prod.joblib
      md5: 0e4dddfc8002d2944ec145ddd24913c7
      size: 164689
    - path: data/models/XGBRegressor.joblib
      md5: d3e56d535aecec69e52d29e845b53b07
      size: 13891982
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: xg_boost_validation.py
      md5: 357c2352d69a36b302159e28ae3840c0
      size: 1512
    params:
      params.yaml:
        xg_boost:
          n_estimators:
          - 15
          - 50
          - 100
          max_depth:
          - 3
          - 4
          - 5
          - 9
          - 15
          - 18
          gamma:
          - 1
          - 3
          - 5
          - 7
          - 9
          min_child_weight:
          - 1
          - 3
          - 5
          - 7
          - 9
          verbosity:
          - 0
  xg_boost_prod_version:
    cmd: python xg_boost_full.py -id data/prepared/ -od data/models/ -mn XGBRegressor
    deps:
    - path: data/models/XGBRegressor.joblib
      md5: d3e56d535aecec69e52d29e845b53b07
      size: 13891982
    - path: data/prepared
      md5: cff05e31f442fd4e0f940d6cc9245411.dir
      size: 6062338
      nfiles: 8
    - path: xg_boost_full.py
      md5: c99e4db500b4d6372c3cf458ca27d3a0
      size: 1488
    outs:
    - path: data/models/XGBRegressor_prod.joblib
      md5: 6bf70807bb85bbfb4492bcc2a3d3169f
      size: 733
