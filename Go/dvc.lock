schema: '2.0'
stages:
  data_preparation:
    cmd: python data_preparation.py -id data/raw -od data/prepared
    deps:
    - path: data/raw
      md5: 823d84f35a7ddef67a65e87f72818436.dir
      size: 51759
      nfiles: 1
    - path: data_preparation.py
      md5: 25e8a1f83948e3e34f6df0128ae15134
      size: 3346
    params:
      params.yaml:
        data_preparation:
          train_test_ratio: 0.7
          train_val_ratio: 0.9
          random_state: 42
    outs:
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
  linear_regression:
    cmd: python linear_regression.py -id data/prepared -od data/models -mn LinearRegression
    deps:
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: linear_regression.py
      md5: 1d1f490e86923e5948f831b4e78a5e2e
      size: 7571
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
    outs:
    - path: data/models/LinearRegression.csv
      md5: c7e01dc8432cddb2f0bfe00c75d7c30f
      size: 86
    - path: data/models/LinearRegression.joblib
      md5: 9be65d1d850efec1c9b463f704a4c392
      size: 943
  linear_regression_prod_version:
    cmd: python linear_regression_full.py -id data/prepared/ -od data/models/ -mn
      LinearRegression
    deps:
    - path: data/models/LinearRegression.joblib
      md5: 9be65d1d850efec1c9b463f704a4c392
      size: 943
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: linear_regression_full.py
      md5: a5b2f015d2b8654e1b3d395c4a57200e
      size: 6437
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
    outs:
    - path: data/models/LinearRegression_prod.csv
      md5: 6cf7df40889b96399d28cf3f3d38fa8a
      size: 84
    - path: data/models/LinearRegression_prod.joblib
      md5: 044178071c2f28e3eafe540d367c3bef
      size: 943
  linear_regression_validation:
    cmd: python linear_regression_validation.py -id data/prepared/ -im data/models/LinearRegression.joblib
      -mn LinearRegression
    deps:
    - path: data/models/
      md5: 9c88a6828e584dfe8bb346ac9e0a6b50.dir
      size: 815080
      nfiles: 16
    - path: data/prepared/
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: linear_regression_validation.py
      md5: 5aa4a7e42b7d9abd7e4e792c3d20201e
      size: 5040
    params:
      params.yaml:
        linear_regression:
          model_name: LinearRegression
  decision_tree@RandomForest:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn RandomForest -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: 044178071c2f28e3eafe540d367c3bef
      size: 943
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree.py
      md5: 523c9735f0b78c5430a519a0d69c8a70
      size: 3259
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
    outs:
    - path: data/models/RandomForest.joblib
      md5: a4eac9c1529c9b9f1d1c9abf2b85acea
      size: 66399
  decision_tree@DecisionTree:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn DecisionTree -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: 044178071c2f28e3eafe540d367c3bef
      size: 943
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree.py
      md5: 523c9735f0b78c5430a519a0d69c8a70
      size: 3259
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
    outs:
    - path: data/models/DecisionTree.joblib
      md5: 89a731676131cb9ffd683283522a7117
      size: 14447
  decision_tree@ExtraTree:
    cmd: python decision_tree.py -id data/prepared -od data/models -bm data/models/LinearRegression_prod.joblib
      -mn ExtraTree -p params.yaml
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: 044178071c2f28e3eafe540d367c3bef
      size: 943
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree.py
      md5: 523c9735f0b78c5430a519a0d69c8a70
      size: 3259
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
    outs:
    - path: data/models/ExtraTree.joblib
      md5: a2fed968677e587b3eb8a4fcd63514f2
      size: 114095
  decision_tree_validation@DecisionTree:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/DecisionTree.joblib
      -bm data/models/LinearRegression_prod.joblib -mn DecisionTree
    deps:
    - path: data/models/DecisionTree.joblib
      md5: 89a731676131cb9ffd683283522a7117
      size: 14447
    - path: data/models/LinearRegression_prod.joblib
      md5: 044178071c2f28e3eafe540d367c3bef
      size: 943
    - path: data/prepared/
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 0848ab4b78418a7b1edfc6bf80511098
      size: 2021
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
  decision_tree_validation@ExtraTree:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/ExtraTree.joblib
      -bm data/models/LinearRegression_prod.joblib -mn ExtraTree
    deps:
    - path: data/models/ExtraTree.joblib
      md5: a2fed968677e587b3eb8a4fcd63514f2
      size: 114095
    - path: data/models/LinearRegression_prod.joblib
      md5: 044178071c2f28e3eafe540d367c3bef
      size: 943
    - path: data/prepared/
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 0848ab4b78418a7b1edfc6bf80511098
      size: 2021
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
  decision_tree_validation@RandomForest:
    cmd: python decision_tree_validation.py -id data/prepared/ -im data/models/RandomForest.joblib
      -bm data/models/LinearRegression_prod.joblib -mn RandomForest
    deps:
    - path: data/models/LinearRegression_prod.joblib
      md5: 044178071c2f28e3eafe540d367c3bef
      size: 943
    - path: data/models/RandomForest.joblib
      md5: a4eac9c1529c9b9f1d1c9abf2b85acea
      size: 66399
    - path: data/prepared/
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree_validation.py
      md5: 0848ab4b78418a7b1edfc6bf80511098
      size: 2021
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
  decision_tree_prod_version@RandomForest:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn RandomForest
    deps:
    - path: data/models/RandomForest.joblib
      md5: a4eac9c1529c9b9f1d1c9abf2b85acea
      size: 66399
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree_full.py
      md5: 393d57c9aaf945569c8463ed28ce8db7
      size: 2756
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
    outs:
    - path: data/models/RandomForest_prod.joblib
      md5: b1f8efea16d02825dd9f7ff2a5ce51a5
      size: 24385
  decision_tree_prod_version@DecisionTree:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn DecisionTree
    deps:
    - path: data/models/DecisionTree.joblib
      md5: 89a731676131cb9ffd683283522a7117
      size: 14447
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree_full.py
      md5: 393d57c9aaf945569c8463ed28ce8db7
      size: 2756
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
    outs:
    - path: data/models/DecisionTree_prod.joblib
      md5: 6f073f05f093c58831ee36dd8333c762
      size: 3377
  decision_tree_prod_version@ExtraTree:
    cmd: python decision_tree_full.py -id data/prepared/ -od data/models/ -mn ExtraTree
    deps:
    - path: data/models/ExtraTree.joblib
      md5: a2fed968677e587b3eb8a4fcd63514f2
      size: 114095
    - path: data/prepared
      md5: 814df9318a136992f76dc2d0f8282865.dir
      size: 52382
      nfiles: 8
    - path: decision_tree_full.py
      md5: 393d57c9aaf945569c8463ed28ce8db7
      size: 2756
    params:
      params.yaml:
        decision_tree:
          DecisionTree:
            max_depth:
            - 2
            - 4
            - 6
            splitter:
            - best
            - random
            min_samples_split:
            - 2
            - 3
            - 4
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          RandomForest:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            min_samples_split:
            - 2
            - 3
            - 4
            - 6
            - 8
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
          ExtraTree:
            n_estimators:
            - 1
            - 2
            - 5
            - 10
            max_depth:
            - 2
            - 4
            - 6
            - 8
            - 10
            min_samples_split:
            - 2
            - 3
            - 4
            - 10
            min_samples_leaf:
            - 1
            - 2
            - 3
            - 4
            - 10
    outs:
    - path: data/models/ExtraTree_prod.joblib
      md5: d182908356ea73eec86ac5099dfc9b55
      size: 71889
